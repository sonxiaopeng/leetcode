<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
     
    /**
     * @param {number[]} height
     * @return {number}
     */
    var trap = function(height) {
      
      // 接雨水问题

      const leftMax = new Array(height.length);
      const rightMax = new Array(height.length);

      let left = height[0];
      let right = height[height.length - 1];
      for(let i = 0 ; i < height.length ; i++) {
        const num1 = height[i];
        const num2 = height[height.length - i - 1]
        left = leftMax[i] = Math.max( left , num1 );
        right = rightMax[height.length - i - 1] = Math.max( right , num2 );
      }


      let ans = 0;

      for(let i = 0 ; i < height.length ; i++) {
        const num = height[i];
        let small = Math.min( leftMax[i], rightMax[i] );
        if(small > num){
          ans+= small - num;
        }
      }

      return ans;

    };

    console.log(trap([0,1,0,2,1,0,1,3,2,1,2,1]));
    console.log(trap([4,2,0,3,2,5]));
  </script>
</body>
</html>