<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /**
       * @param {number[]} nums
       * @return {number}
       */
      // var singleNumber = function (nums) {
      //   //
      //   let map = new Map();

      //   for (let i = 0; i < nums.length; i++) {
      //     if (map.has(nums[i])) {
      //       map.set(nums[i], map.get(nums[i]) + 1);
      //     } else {
      //       map.set(nums[i], 1);
      //     }
      //   }

      //   for (let i = 0; i < nums.length; i++) {
      //     if (map.get(nums[i]) === 1) {
      //       return nums[i];
      //     }
      //   }
      // };

      /**
       * @param {number[]} nums
       * @return {number}
       */
      var singleNumber = function (nums) {
        let res = 0;
        for (let i = 0; i < 32; i++) {
          let total = 0;
          for (let num of nums) {
            total += (num >> i) & 1; //
          }

          if (total % 3 === 1) {
            res |= 1 << i;
          }
        }

        return res;
      };

      console.log(singleNumber([-2, -2, 1, 1, -3, 1, -3, -3, -4, -2]));
    </script>
  </body>
</html>
